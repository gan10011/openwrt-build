# 基础配置
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq60xx=y
CONFIG_TARGET_qualcommax_ipq60xx_DEVICE_zn_m2=y
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=256

# 内核优化
CONFIG_KERNEL_DEVTMPFS=n
CONFIG_KERNEL_XZ=y
# CONFIG_KERNEL_DEBUG_INFO is not set
# CONFIG_KERNEL_DEBUG_KERNEL is not set
CONFIG_IPQ_MEM_PROFILE_256=y
CONFIG_KERNEL_IPQ_MEM_PROFILE=256
CONFIG_KERNEL_SKB_RECYCLER=y
CONFIG_SKB_RECYCLE_SIZE_1856=y
CONFIG_KERNEL_SKB_RECYCLE_SIZE=1856
CONFIG_KERNEL_SKB_RECYCLER_MULTI_CPU=y
CONFIG_KERNEL_PREEMPT=y
CONFIG_KERNEL_PREEMPT_RCU=y

# 必要系统组件
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_fstools=y
CONFIG_PACKAGE_fwtool=y
CONFIG_PACKAGE_logd=y
CONFIG_PACKAGE_mtd=y
CONFIG_PACKAGE_netifd=y
CONFIG_PACKAGE_procd=y
CONFIG_PACKAGE_procd-seccomp=y
CONFIG_PACKAGE_procd-ujail=y
CONFIG_PACKAGE_ubox=y
CONFIG_PACKAGE_ubus=y
CONFIG_PACKAGE_ubusd=y
CONFIG_PACKAGE_uci=y
CONFIG_PACKAGE_urandom-seed=y
CONFIG_PACKAGE_urngd=y
CONFIG_PACKAGE_wifi-scripts=y
CONFIG_PACKAGE_uboot-envtools=y
CONFIG_PACKAGE_uclient-fetch=y
CONFIG_PACKAGE_jshn=y
CONFIG_PACKAGE_libjson-script=y
CONFIG_PACKAGE_losetup=y
CONFIG_PACKAGE_shellsync=y
CONFIG_PACKAGE_ubi-utils=y
CONFIG_PACKAGE_ucode-mod-html=y

# WiFi核心驱动
CONFIG_PACKAGE_ath11k-firmware-ipq60xx=y
CONFIG_PACKAGE_kmod-ath11k=y
CONFIG_PACKAGE_kmod-ath11k-ahb=y
CONFIG_PACKAGE_kmod-cfg80211=y
CONFIG_PACKAGE_kmod-mac80211=y
CONFIG_PACKAGE_wpad-openssl=y
CONFIG_PACKAGE_iwinfo=y
CONFIG_PACKAGE_iw=y
CONFIG_PACKAGE_hostapd-common=y
CONFIG_PACKAGE_wireless-regdb=y

# OpenClash核心
CONFIG_PACKAGE_luci-app-openclash=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-lua-runtime=y
CONFIG_PACKAGE_coreutils=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_jq=y
CONFIG_PACKAGE_libcurl=y
CONFIG_PACKAGE_libopenssl=y
CONFIG_PACKAGE_libpthread=y
CONFIG_PACKAGE_librt=y
CONFIG_PACKAGE_libubox=y
CONFIG_PACKAGE_libubus=y
CONFIG_PACKAGE_libuci=y
CONFIG_PACKAGE_libuclient=y
CONFIG_PACKAGE_libucode=y
CONFIG_PACKAGE_libjson-c=y
CONFIG_PACKAGE_libblobmsg-json=y
CONFIG_PACKAGE_libnl-tiny=y
CONFIG_PACKAGE_libstdcpp=y
CONFIG_PACKAGE_zlib=y

# 修复libffi依赖
CONFIG_PACKAGE_libffi=y
CONFIG_PACKAGE_libgmp=y

# 网络基础
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_nftables=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_odhcpd-ipv6only=y
CONFIG_PACKAGE_ppp-mod-pppoe=y
CONFIG_PACKAGE_resolveip=y
CONFIG_PACKAGE_tc-tiny=y
CONFIG_PACKAGE_uhttpd=y
CONFIG_PACKAGE_uhttpd-mod-ubus=y

# 文件系统
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-f2fs=y
CONFIG_PACKAGE_f2fsck=y
CONFIG_PACKAGE_mkf2fs=y

# 禁用所有非必要功能
# CONFIG_PACKAGE_luci is not set
# CONFIG_PACKAGE_ppp is not set
# CONFIG_PACKAGE_6rd is not set
# CONFIG_PACKAGE_kmod-usb-core is not set
# CONFIG_PACKAGE_kmod-usb-storage is not set
# CONFIG_PACKAGE_kmod-fs-ntfs is not set
# CONFIG_PACKAGE_kmod-fs-vfat is not set
# CONFIG_PACKAGE_kmod-ipsec is not set
# CONFIG_PACKAGE_strace is not set
# CONFIG_PACKAGE_tcpdump is not set
# CONFIG_PACKAGE_luci-app-firewall is not set
# CONFIG_PACKAGE_luci-app-upnp is not set
